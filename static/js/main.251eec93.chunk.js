(this["webpackJsonpbible-app"]=this["webpackJsonpbible-app"]||[]).push([[0],{15:function(e,a){a.searchTypes={passages:"passages",keyword:"keyword"}},166:function(e,a){},195:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(14),c=t.n(s),o=(t(79),t(20)),l=t(21),i=t(23),p=t(22),u=t(71),m=t(3),d=t(69),h=t.n(d),E=function(e){Object(i.a)(t,e);var a=Object(p.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"mobile-container"},r.a.createElement("h1",null," This is rendered only in Mobile "))}}]),t}(n.Component),f=t(17),v=t.n(f),b=t(25),y=t(4);var g=function(){return r.a.createElement("div",{className:"title-container"},r.a.createElement("h2",{className:"text"},"Bible App"))},w=t(73),k=t(15);var x=function(e){var a=e.type,t=e.onSearch,s=Object(n.useState)(""),c=Object(w.a)(s,2),o=c[0],l=c[1];return r.a.createElement("div",{className:"search-container"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(o,a),l("")}},r.a.createElement(y.TextInput,{s:12,value:o,placeholder:a===k.searchTypes.keyword?"Repent":"John 3:1-10",onChange:function(e){return l(e.target.value)}}),r.a.createElement(y.Row,null,r.a.createElement(y.Col,{s:12,className:"btn-wrapper"},r.a.createElement(y.Button,{className:"search-btn",type:"submit",waves:"light"},r.a.createElement(y.Icon,{className:"icon"},"search"),"Search")))))},S=t(35),j=t.n(S),O=t(70),_=t.n(O),N={proxy:!1,headers:{"content-type":"application/json",Authorization:"Token 1db4878bd4ef4915253c027d47fcad03a11a739b"}},C=function(){var e=Object(b.a)(v.a.mark((function e(a){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("https://api.esv.org/v3/passage/html/?q=".concat(a),N);case 2:return t=e.sent,(n=t.data).passages=_()(n.passages[0]),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),I=function(){var e=Object(b.a)(v.a.mark((function e(a){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("https://api.esv.org/v3/passage/search/?q=".concat(a),N);case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),R=t(29),T=t(36),A=function(e){Object(i.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).state={isPassageExpanded:!0,isKeywordExpanded:!1,isLoading:!1,isInitialState:!0,keywordSearchResults:{total_results:0,results:[{reference:"",content:""}]},passageSearchResults:{passage_meta:[{canonical:"",chapter_start:[],chapter_end:[],prev_verse:0,next_verse:0,prev_chapter:[],next_chapter:[]}],passages:""}},e.onSearch=function(){var a=Object(b.a)(v.a.mark((function a(t,n){var r,s,c,o;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=e.props.history,s=t.trim().replace(" ","+"),e.setState({isLoading:!0,isInitialState:!1}),a.prev=3,n!==k.searchTypes.keyword){a.next=12;break}return a.next=7,I(s);case 7:return c=a.sent,a.next=10,e.setState({keywordSearchResults:c});case 10:a.next=17;break;case 12:return a.next=14,C(s);case 14:return o=a.sent,a.next=17,e.setState({passageSearchResults:o});case 17:a.next=23;break;case 19:a.prev=19,a.t0=a.catch(3),console.error("ERROR: ",a.t0),R.b.error("Search failed. Please simplify your search and try again.");case 23:r.push("/bibleApp/".concat(n,"?q=").concat(s)),e.setState({isLoading:!1});case 25:case"end":return a.stop()}}),a,null,[[3,19]])})));return function(e,t){return a.apply(this,arguments)}}(),e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=function(e){var a=e.search,t=e.pathname,n=k.searchTypes.keyword,r=k.searchTypes.passages,s=a.split("q=");if("/bibleApp"!==t&&1!==s.length){var c={type:r,query:s[1]};return t.includes(n)&&(c.type=n),c}}(this.props.location);e&&this.onSearch(e.query,e.type)}},{key:"render",value:function(){var e=this,a=this.state,t=a.isPassageExpanded,n=a.isKeywordExpanded,s=a.isLoading,c=a.passageSearchResults,o=a.isInitialState;return r.a.createElement("div",{className:"desktop-container"},r.a.createElement(y.Row,{className:"row-wrapper"},r.a.createElement(y.Col,{xl:3,m:4,className:"col-wrapper search-col"},r.a.createElement(T.Fade,{left:!0},r.a.createElement(g,null),r.a.createElement(y.Collapsible,null,r.a.createElement(y.CollapsibleItem,{header:"Passages",expanded:!0,node:"div",onClick:function(){return e.setState({isKeywordExpanded:!1,isPassageExpanded:!t})},icon:t?r.a.createElement(y.Icon,null,"keyboard_arrow_down"):r.a.createElement(y.Icon,null,"keyboard_arrow_right")},r.a.createElement(x,{type:k.searchTypes.passages,onSearch:this.onSearch})),r.a.createElement(y.CollapsibleItem,{header:"Keyword",node:"div",onClick:function(){return e.setState({isKeywordExpanded:!n,isPassageExpanded:!1})},icon:n?r.a.createElement(y.Icon,null,"keyboard_arrow_down"):r.a.createElement(y.Icon,null,"keyboard_arrow_right")},r.a.createElement(x,{type:k.searchTypes.keyword,onSearch:this.onSearch}))))),r.a.createElement(y.Col,{xl:9,m:8,className:"col-wrapper display-col"},s&&!o&&r.a.createElement(y.Preloader,{className:"loading-spinner"}),o&&!s&&r.a.createElement(T.Fade,{top:!0,duration:2e3},r.a.createElement("div",{className:"pre-search-msg"},r.a.createElement("p",null,"Welcome to the Bible App. Search passages, verses, and keywords in the ESV Bible."),r.a.createElement(y.Icon,null,"search"))),!o&&!s&&c.passages&&c.passages.length>0&&r.a.createElement(y.Row,null,r.a.createElement(y.Col,{s:12},r.a.createElement("div",{className:"passage-text"},c.passages))))))}}]),t}(n.Component);var P=function(){var e=(new Date).getFullYear();return r.a.createElement("footer",{className:"footer-container"},"\xa9 ",e," ",r.a.createElement("a",{href:"https://jamesmart77.github.io",target:"_blank",rel:"noopener noreferrer"},"James Martineau"))},q=function(e){Object(i.a)(t,e);var a=Object(p.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(l.a)(t,[{key:"render",value:function(){var e=this.props.isDesktop;return r.a.createElement(u.a,null,r.a.createElement("div",{className:"app-container"},r.a.createElement("main",null,r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/bibleApp",render:function(a){return e?r.a.createElement(A,a):r.a.createElement(E,null)}}))),r.a.createElement(P,null),r.a.createElement(R.a,{autoClose:!1})))}}]),t}(n.Component),B=h()((function(e){return{isDesktop:e.width>=900}}))(q);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},74:function(e,a,t){e.exports=t(195)},79:function(e,a,t){}},[[74,1,2]]]);
//# sourceMappingURL=main.251eec93.chunk.js.map