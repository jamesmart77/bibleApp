(this["webpackJsonpbible-app"]=this["webpackJsonpbible-app"]||[]).push([[0],{154:function(e,a){},17:function(e,a){a.searchTypes={passages:"passages",keyword:"keyword"}},181:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(9),c=t.n(s),o=(t(67),t(13)),l=t(14),i=t(16),p=t(15),u=t(59),m=t.n(u),d=function(e){Object(i.a)(t,e);var a=Object(p.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"mobile-container"},r.a.createElement("h1",null," This is rendered only in Mobile "))}}]),t}(n.Component),h=t(10),E=t.n(h),v=t(19),g=t(3);var f=function(){return r.a.createElement("div",{className:"title-container"},r.a.createElement("h2",{className:"text"},"Bible App"))},b=t(61),w=t(17);var y=function(e){var a=e.type,t=e.onSearch,s=Object(n.useState)(""),c=Object(b.a)(s,2),o=c[0],l=c[1];return r.a.createElement("div",{className:"search-container"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(o,a),l("")}},r.a.createElement(g.TextInput,{s:12,value:o,placeholder:a===w.searchTypes.keyword?"Repent":"John 3:1-10",onChange:function(e){return l(e.target.value)}}),r.a.createElement(g.Row,null,r.a.createElement(g.Col,{s:12,className:"btn-wrapper"},r.a.createElement(g.Button,{className:"search-btn",type:"submit",waves:"light"},r.a.createElement(g.Icon,{className:"icon"},"search"),"Search")))))},S=t(27),k=t.n(S),x=t(60),O=t.n(x),_={proxy:!1,headers:{"content-type":"application/json",Authorization:"Token"}},j=function(){var e=Object(v.a)(E.a.mark((function e(a){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("https://api.esv.org/v3/passage/html/?q=".concat(a),_);case 2:return t=e.sent,(n=t.data).passages=O()(n.passages[0]),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),N=function(){var e=Object(v.a)(E.a.mark((function e(a){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Searching...: ",a),e.next=3,k.a.get("https://api.esv.org/v3/passage/search/?q=".concat(a),_);case 3:return t=e.sent,n=t.data,console.log("Data: ",n),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),C=t(23),I=t(28),R=function(e){Object(i.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).state={isPassageExpanded:!0,isKeywordExpanded:!1,isLoading:!1,isInitialState:!0,keywordSearchResults:{total_results:0,results:[{reference:"",content:""}]},passageSearchResults:{passage_meta:[{canonical:"",chapter_start:[],chapter_end:[],prev_verse:0,next_verse:0,prev_chapter:[],next_chapter:[]}],passages:""}},e.onSearch=function(){var a=Object(v.a)(E.a.mark((function a(t,n){var r,s,c;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=t.trim().replace(" ","+"),e.setState({isLoading:!0,isInitialState:!1}),a.prev=2,n!==w.searchTypes.keyword){a.next=11;break}return a.next=6,N(r);case 6:return s=a.sent,a.next=9,e.setState({keywordSearchResults:s});case 9:a.next=16;break;case 11:return a.next=13,j(r);case 13:return c=a.sent,a.next=16,e.setState({passageSearchResults:c});case 16:a.next=22;break;case 18:a.prev=18,a.t0=a.catch(2),console.error("ERROR: ",a.t0),C.b.error("Search failed. Please simplify your search and try again.");case 22:e.setState({isLoading:!1}),console.log("state: ",e.state);case 24:case"end":return a.stop()}}),a,null,[[2,18]])})));return function(e,t){return a.apply(this,arguments)}}(),e}return Object(l.a)(t,[{key:"render",value:function(){var e=this,a=this.state,t=a.isPassageExpanded,n=a.isKeywordExpanded,s=a.isLoading,c=a.passageSearchResults,o=a.isInitialState;return r.a.createElement("div",{className:"desktop-container"},r.a.createElement(g.Row,{className:"row-wrapper"},r.a.createElement(g.Col,{xl:3,m:4,className:"col-wrapper search-col"},r.a.createElement(I.Fade,{left:!0},r.a.createElement(f,null),r.a.createElement(g.Collapsible,null,r.a.createElement(g.CollapsibleItem,{header:"Passages",expanded:!0,node:"div",onClick:function(){return e.setState({isKeywordExpanded:!1,isPassageExpanded:!t})},icon:t?r.a.createElement(g.Icon,null,"keyboard_arrow_down"):r.a.createElement(g.Icon,null,"keyboard_arrow_right")},r.a.createElement(y,{type:w.searchTypes.passages,onSearch:this.onSearch})),r.a.createElement(g.CollapsibleItem,{header:"Keyword",node:"div",onClick:function(){return e.setState({isKeywordExpanded:!n,isPassageExpanded:!1})},icon:n?r.a.createElement(g.Icon,null,"keyboard_arrow_down"):r.a.createElement(g.Icon,null,"keyboard_arrow_right")},r.a.createElement(y,{type:w.searchTypes.keyword,onSearch:this.onSearch}))))),r.a.createElement(g.Col,{xl:9,m:8,className:"col-wrapper display-col"},s&&!o&&r.a.createElement(g.Preloader,{className:"loading-spinner"}),o&&!s&&r.a.createElement(I.Fade,{top:!0,duration:2e3},r.a.createElement("div",{className:"pre-search-msg"},r.a.createElement("p",null,"Welcome to the Bible App. Search passages, verses, and keywords in the ESV Bible."),r.a.createElement(g.Icon,null,"search"))),!o&&!s&&c.passages&&c.passages.length>0&&r.a.createElement(g.Row,null,r.a.createElement(g.Col,{s:12},r.a.createElement("div",{className:"passage-text"},c.passages))))))}}]),t}(n.Component);var T=function(){var e=(new Date).getFullYear();return r.a.createElement("footer",{className:"footer-container"},"\xa9 ",e," ",r.a.createElement("a",{href:"https://jamesmart77.github.io",target:"_blank",rel:"noopener noreferrer"},"James Martineau"))},P=function(e){Object(i.a)(t,e);var a=Object(p.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(l.a)(t,[{key:"render",value:function(){console.log("ENV: ",Object({NODE_ENV:"production",PUBLIC_URL:"/bibleApp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}));var e=this.props.isDesktop;return r.a.createElement("div",{className:"app-container"},r.a.createElement("main",null,e?r.a.createElement(R,null):r.a.createElement(d,null)),r.a.createElement(T,null),r.a.createElement(C.a,{autoClose:!1}))}}]),t}(n.Component),D=m()((function(e){return{isDesktop:e.width>=900}}))(P);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},62:function(e,a,t){e.exports=t(181)},67:function(e,a,t){}},[[62,1,2]]]);
//# sourceMappingURL=main.6ca28456.chunk.js.map